documentation_complete: true

prodtype: ubuntu2004

title: 'Ensure journald is configured to compress large log files'

description: |-
    The journald system includes the capability of compressing overly large files to avoid filling
    up the system with logs or making the logs unmanageably large.

    Note: The main configuration file /etc/systemd/journald.conf is read before any of the
    custom *.conf files. If there are custom configs present, they override the main configuration
    parameters.

rationale: |-
    Uncompressed large files may unexpectedly fill a filesystem leading to resource
    unavailability. Compressing logs prior to write can prevent sudden,
    unexpected filesystem impacts.

severity: medium

references:
    cis@ubuntu2004: 4.2.2.2

template:
  name: lineinfile
  vars:
    path: /etc/systemd/journald.conf
    text: Compress=yes
