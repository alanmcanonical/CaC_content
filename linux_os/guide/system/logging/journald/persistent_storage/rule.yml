documentation_complete: true

prodtype: ubuntu2004

title: 'Ensure journald is configured to write logfiles to persistent disk'

description: |-
    Data from journald may be stored in volatile memory or persisted locally on the server.
    Logs in memory will be lost upon a system reboot. By persisting logs to local disk on the
    server they are protected from loss.

    Note: The main configuration file /etc/systemd/journald.conf is read before any of the
    custom *.conf files. If there are custom configs present, they override the main configuration
    parameters.

rationale: |-
    Writing log data to disk will provide the ability to forensically reconstruct
    events which may have impacted the operations or security of a system even
    after a system crash or reboot.

severity: medium

references:
    cis@ubuntu2004: 4.2.2.3

template:
  name: lineinfile
  vars:
    path: /etc/systemd/journald.conf
    text: Storage=persistent
